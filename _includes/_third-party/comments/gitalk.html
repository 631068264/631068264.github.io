{% unless site.duoshuo_shortname
  or site.disqus_shortname
  or site.hypercomments_id
  or site.gentie_productKey
  or site.duoshuo and site.duoshuo.shortname %}

{% if site.gitalk.enable %}
<link rel="stylesheet" href="https://unpkg.com/gitalk/dist/gitalk.css">
<script src="https://unpkg.com/gitalk/dist/gitalk.min.js"></script>
<script type="text/javascript">
    var labels = ['gitalk','{{ page.date | date: "%Y-%m-%d" }}']
</script>
{% if page.categories and page.categories.size != 0 %}
<script type="text/javascript">
    labels.push('{{ page.categories }}');
</script>
{% endif %}
{% if page.tags and page.tags.size != 0 %}
<script type="text/javascript">
    labels.push('{{ page.tags }}');
</script>
{% endif %}

<script type="text/javascript">
    var gitalk = new Gitalk({
        clientID: '{{ site.gitalk.clientID }}',
        clientSecret: '{{ site.gitalk.clientSecret }}',
        repo: '{{ site.gitalk.repo }}',
        owner: '{{ site.gitalk.owner }}',
        admin: ['{{ site.gitalk.owner }}'],
        id: '{{ page.title }}',
        title: '{{ page.title }}',
        labels: labels,
        perPage: 50,
        distractionFreeMode: true
    });
    gitalk.render('gitalk-container');
</script>

{% endif %}

{% endunless %}
