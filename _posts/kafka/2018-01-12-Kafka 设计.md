---
layout:     post
rewards: false
title:      Kafka 设计
categories:
    - kafka
---

## Why 文件系统来存储数据
- 文件系统存储速度快慢一定程度上也取决于我们对磁盘的用法。线性写的速度约是随机写 的 6000 多倍
- Java 对 象内存消耗非常高， 且随着 Java 对象的增加JVM垃圾回收也越来越频繁和繁琐，这些都加大了内存的消耗 。

 数据的持久化队列可以建立在简单地对文件进行追加的实现方案上，因为是顺序追加， 所以 Kafka在设计上是采用时间复杂度。(1)的磁盘结构，它提供了常量时间的性能，即使是存 储海量的信息( TB 级)也如此，性能和数据的大小关系也不大，同时 Kafka将数据持久化到磁 盘上，这样只要磁盘空间足够大数据就可以一直追加，而不会像一般的消息系统在消息被消费 后就删除掉， Kafka 提供了相关配置让用户自己决定消息要保存多久，这样为消费者提供了更 灵活的处理方式，因此 Kafka 能够在没有性能损失的情况下提供一般消息系统不具备的特性 。
 
 